<app-page-header
  [title]="translationService.t('notifications.sendNotification')"
  [subtitle]="translationService.t('notifications.sendNotificationSubtitle')">
</app-page-header>

@if (errorMessage) {
  <div class="mb-4 p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:text-red-400 dark:border-red-800">
    {{ errorMessage }}
  </div>
}

<form (submit)="onSubmit(); $event.preventDefault()" 
      class="rounded-lg border border-gray-200 bg-white p-6 shadow-theme-xs dark:border-gray-800 dark:bg-gray-dark">
  <div class="space-y-6">
    <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
      <!-- Arabic Section -->
      <div class="space-y-4">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
          {{ translationService.t('notifications.arabicContent') }}
        </h3>
        <div>
          <app-label>
            {{ translationService.t('notifications.fieldTitle') }} ({{ translationService.t('notifications.arabic') }})
            <span class="text-error-500">*</span>
          </app-label>
          <app-input-field
            type="text"
            [value]="title_ar"
            (valueChange)="onTitleArChange($event)"
            [placeholder]="translationService.t('notifications.titlePlaceholder')"
            class="form-input"
          />
        </div>
        <div>
          <app-label>
            {{ translationService.t('notifications.message') }} ({{ translationService.t('notifications.arabic') }})
            <span class="text-error-500">*</span>
          </app-label>
          <textarea
            [value]="message_ar"
            (input)="onMessageArChange($any($event.target).value)"
            [placeholder]="translationService.t('notifications.messagePlaceholder')"
            rows="4"
            class="h-11 w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 bg-transparent text-gray-800 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700 dark:text-white/90 dark:focus:border-brand-800">
          </textarea>
        </div>
      </div>

      <!-- English Section -->
      <div class="space-y-4">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
          {{ translationService.t('notifications.englishContent') }}
        </h3>
        <div>
          <app-label>
            {{ translationService.t('notifications.title') }} ({{ translationService.t('notifications.english') }})
            <span class="text-error-500">*</span>
          </app-label>
          <app-input-field
            type="text"
            [value]="title_en"
            (valueChange)="onTitleEnChange($event)"
            [placeholder]="translationService.t('notifications.titlePlaceholder')"
            class="form-input"
          />
        </div>
        <div>
          <app-label>
            {{ translationService.t('notifications.message') }} ({{ translationService.t('notifications.english') }})
            <span class="text-error-500">*</span>
          </app-label>
          <textarea
            [value]="message_en"
            (input)="onMessageEnChange($any($event.target).value)"
            [placeholder]="translationService.t('notifications.messagePlaceholder')"
            rows="4"
            class="h-11 w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 bg-transparent text-gray-800 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700 dark:text-white/90 dark:focus:border-brand-800">
          </textarea>
        </div>
      </div>
    </div>

    <div class="flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-800">
      <button
        type="button"
        (click)="onCancel()"
        class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700">
        {{ translationService.t('common.cancel') }}
      </button>
      <app-button
        type="submit"
        size="sm"
        [disabled]="!title_ar || !title_en || !message_ar || !message_en || isSubmitting">
        @if (isSubmitting) {
          {{ translationService.t('notifications.sending') }}...
        } @else {
          {{ translationService.t('notifications.send') }}
        }
      </app-button>
    </div>
  </div>
</form>

